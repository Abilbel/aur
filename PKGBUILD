# Maintainer: Caleb Maclennan <caleb@alerque.com>
# PKGBUILD generated by pipman
# Python package author: DCsunset <DCsunset@protonmail.com>

_pipname=pandoc-include
pkgname=python-$_pipname
pkgver=0.3.2
pkgrel=1
pkgdesc="Panflute filter to allow file includes"
arch=(any)
url="https://github.com/DCsunset/$_pipname"
license=(MIT)
makedepends=("python" "python-pip")
depends=("python-click"
        "python-future"
        "python-panflute"
        "python-shutilwhich"
        "python-yaml")

build() {
  pip install --no-deps --target="$_pipname" "$_pipname==$pkgver"
}

package() {
  sitepackages=$(python -c "import site; print(site.getsitepackages()[0])")
  mkdir -p "$pkgdir/$sitepackages"
  cp -r "$srcdir/$_pipname"/* "$pkgdir/$sitepackages"
}
